<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ .Post.Title }}</title>
    <link rel="stylesheet" href="/static/styles/postdetail.css">
</head>
<body>
    <!-- Post Content -->
    <h2>{{ .Post.Title }}</h2>
    <p>Posted by <strong>{{ .Username }}</strong> on {{ .Post.CreatedAt }}</p>
    <p>{{ .Post.Content }}</p>

    <!-- Comments Section -->
    <h3>Comments</h3>
    <div id="comments">
        {{ if .Comments }}
            {{ range .Comments }}
                <div class="comment">
                    <p><strong>{{ .Username }}:</strong> {{ .Content }}</p>
                    <p>{{ .CreatedAt }}</p>
                </div>
            {{ end }}
        {{ else }}
            <p>No comments yet.</p>
        {{ end }}
    </div>

    <!-- Add Comment Form -->
    <h3>Add a Comment</h3>
    <form action="/add_comment" method="POST">
        <textarea name="content" rows="4" required></textarea>
        <input type="hidden" name="post_id" value="{{ .Post.ID }}">
        <button type="submit">Add Comment</button>
    </form>

    <p><a href="/">Back to Home</a></p>
</body>
</html>